/* src/pages/ModuleTrail.css */

body {
  margin: 0;
  font-family: 'Arial', sans-serif;
  background-color: var(--bg-light-gray);
  color: var(--text-dark);
}

/* --- Main Page Container --- */
.module-trail-page {
  position: relative;
  width: 80%;
  max-width: 1200px;
  margin: 0 auto;
  /* Decreased top padding from 4rem to 2rem */
  padding: 2rem 2rem;
  min-height: 80vh;
  overflow: hidden;
}

/* --- Animated Background Shapes --- */
.module-trail-background-shapes {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}

.course-shape {
  position: absolute;
  opacity: 0.4;
  animation: float 15s infinite ease-in-out;
}

/* Updated positioning for a cleaner, non-overlapping layout */
.shape--circle-green {
  width: 250px;
  height: 250px;
  background-color: var(--light-green-shade);
  border-radius: 50%;
  top: 10%;
  left: -120px; /* Positioned just outside the left edge */
  animation-delay: 0s;
}

.shape--hexagon-blue {
  width: 180px;
  height: 180px;
  background-color: var(--light-blue-shade);
  clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
  top: 20%;
  right: -80px; /* Positioned just outside the right edge */
  animation-delay: 3s;
}

.shape--triangle-pink {
  width: 220px;
  height: 220px;
  background-color: var(--light-pink-shade);
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  bottom: 10%;
  left: 20%;
  animation-delay: 6s;
}

.shape--circle-purple {
  width: 150px;
  height: 150px;
  background-color: var(--light-purple-shade);
  border-radius: 50%;
  top: 65%;
  right: 15%;
  animation-delay: 9s;
}

.shape--rhombus-orange {
  width: 160px;
  height: 160px;
  background-color: var(--light-orange-shade);
  transform: rotate(30deg);
  bottom: 0;
  left: -80px; /* Positioned just outside the bottom-left edge */
  animation-delay: 12s;
}

.shape--triangle-red {
  width: 190px;
  height: 190px;
  background-color: var(--light-red-shade);
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  top: 85%;
  right: -100px; /* Positioned just outside the bottom-right edge */
  animation-delay: 15s;
}

@keyframes float {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-20px) scale(1.05); }
}

/* --- Page Header and Filters --- */
.page-header {
  position: relative;
  z-index: 1; 
  text-align: center;
  /* Decreased bottom margin from 3rem to 2rem */
  margin-bottom: 2rem;
}

.page-title {
  font-size: 2.25rem;
  font-weight: 700;
  color: var(--primary-color);
  margin-bottom: 0.5rem;
}

.page-subtitle {
  font-size: 1.1rem;
  color: var(--text-gray);
  /* Decreased bottom margin from 2rem to 1rem */
  margin-bottom: 1rem;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.5;
}

.filter-buttons {
  position: relative;
  z-index: 1;
  display: flex;
  justify-content: center;
  gap: 0.75rem;
  margin-top: 1.5rem;
}

.filter-btn {
  padding: 0.5rem 1.25rem;
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--primary-color);
  background-color: var(--bg-white);
  border: 1px solid var(--border-gray);
  border-radius: 9999px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.filter-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
  border-color: var(--primary-color);
  color: var(--primary-color);
}

.filter-btn.active {
  color: var(--bg-white);
  background-color: var(--primary-color);
  border-color: var(--primary-color);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  transform: translateY(-2px);
}

/* --- Module Grid --- */
.module-grid-wrapper {
  position: relative;
  z-index: 1;
  display: flex;
  justify-content: center;
}

.module-trail-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 2rem;
  width: 100%;
  text-align: left;
}

.loading-state,
.no-modules-message {
  text-align: center;
  padding: 4rem;
  font-size: 1.2rem;
  color: #999;
  width: 100%;
}

/* --- Media Queries for Responsiveness --- */
@media (max-width: 768px) {
  .module-trail-page {
    width: 100%;
    padding: 2rem 1rem;
  }
  .page-title {
    font-size: 1.8rem;
  }
  .page-subtitle {
    font-size: 0.95rem;
  }
  .filter-buttons {
    flex-wrap: wrap;
    gap: 0.5rem;
  }
  .filter-btn {
    padding: 0.5rem 1rem;
    font-size: 0.9rem;
  }
  .module-trail-grid {
    gap: 1.5rem;
    grid-template-columns: 1fr;
    max-width: 400px;
  }
  .course-shape {
    opacity: 0.2;
  }
  .shape--circle-green,
  .shape--circle-purple { width: 120px; height: 120px; }
  .shape--hexagon-blue,
  .shape--rhombus-orange { width: 100px; height: 100px; }
  .shape--triangle-pink,
  .shape--triangle-red { width: 120px; height: 120px; }
}